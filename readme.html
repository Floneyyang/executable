
<h1 id="label-Executable">Executable</h1>

<p><a href="http://rubyworks.github.com/executable">Website</a> | <a
href="http://github.com/rubyworrks/executable">Source Code</a> | <a
href="http://github.com/rubyworrks/executable/features">Report Issue</a> |
<a href="irc://irc.freenode.org/rubyworks">#rubyworks</a></p>

<p><a href="http://travis-ci.org/rubyworks/executable"><img
src="http://travis-ci.org/rubyworks/executable.png" /></a></p>

<h2 id="label-DESCRIPTION">DESCRIPTION</h2>

<p>Think of Executable as a <strong>COM</strong>, a Commandline Object Mapper,
in much the same way that ActiveRecord is an ORM, an Object Relational
Mapper. A class utilizing Executable can define a complete command line
tool using nothing more than Ruby’s own method definitions.</p>

<p>Executable is a very striaght-forward CLI framework for Ruby. CLI::Base is
a <strong>COM</strong> –a Command-to-Object Mapping library. A command line
tool can be defined using nothing more than Ruby’s own standard syntax. No
special DSL is required.</p>

<h2 id="label-FEATURES">FEATURES</h2>
<ul><li>
<p>Super easy to use, just mixin.</p>
</li><li>
<p>Public writers become options.</p>
</li><li>
<p>Public methods become subcommands.</p>
</li></ul>

<h2 id="label-RELEASE+NOTES">RELEASE NOTES</h2>

<p>Please see HISTORY file.</p>

<h2 id="label-SYNOPSIS">SYNOPSIS</h2>

<p>Executable can be use as a mixin, or as a subclass via `Executable::Base`.
Add methods to you class to handle command-line options. Writer methods 
(those ending in ‘=’) coorepsond to an options and a query method (those
ending in ‘?’) mark an attribute as a flag option.</p>

<p>For example, here is a simple commandline tool to run a Ruby script.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'executable'</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">RunCLI</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Executable</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># Require LIBRARY before executing your script.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">require=</span>(<span class="ruby-identifier">lib</span>)
    <span class="ruby-identifier">require</span> <span class="ruby-identifier">lib</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">alias</span> :<span class="ruby-identifier">r=</span> <span class="ruby-operator">:</span><span class="ruby-identifier">require</span>=

  <span class="ruby-comment"># Include PATH in $LOAD_PATH.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">include=</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">alias</span> :<span class="ruby-constant">I=</span> <span class="ruby-operator">:</span><span class="ruby-identifier">incude</span>

  <span class="ruby-comment"># Run in DEBUG mode.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">debug?</span>
    <span class="ruby-identifier">$DEBUG</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Show this message.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">help?</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-keyword">self</span>
    <span class="ruby-identifier">exit</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">alias</span> :<span class="ruby-identifier">h?</span> <span class="ruby-operator">:</span><span class="ruby-identifier">help?</span>

  <span class="ruby-comment"># Run the command.</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">main</span>(<span class="ruby-identifier">script</span>)
    <span class="ruby-identifier">load</span>(<span class="ruby-identifier">script</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-constant">Example</span>.<span class="ruby-identifier">execute!</span>(<span class="ruby-string">&quot;foo.rb&quot;</span>)
</pre>

<h2 id="label-SYNOPSIS">SYNOPSIS</h2>

<p>Simply mixin Executable, then call #execute_command.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Example</span>
  <span class="ruby-identifier">include</span> <span class="ruby-constant">Executable</span>

  <span class="ruby-identifier">attr_accessor</span> :<span class="ruby-identifier">quiet</span>

  <span class="ruby-identifier">attr_accessor</span> :<span class="ruby-identifier">size</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">bread</span>(*<span class="ruby-identifier">args</span>)
    [<span class="ruby-string">&quot;bread&quot;</span>, <span class="ruby-identifier">quiet</span>, <span class="ruby-identifier">size</span>, *<span class="ruby-identifier">args</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">butter</span>(*<span class="ruby-identifier">args</span>)
    [<span class="ruby-string">&quot;butter&quot;</span>, <span class="ruby-identifier">quiet</span>, <span class="ruby-identifier">size</span>, *<span class="ruby-identifier">args</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">example</span> = <span class="ruby-constant">Example</span>.<span class="ruby-identifier">new</span>

<span class="ruby-identifier">example</span>.<span class="ruby-identifier">execute!</span>(<span class="ruby-string">&quot;butter yum&quot;</span>)
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;butter&quot;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;yum&quot;</span>]

<span class="ruby-identifier">example</span>.<span class="ruby-identifier">execute!</span>(<span class="ruby-string">&quot;bread --quiet --size=big&quot;</span>)
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;bread&quot;</span>, <span class="ruby-keyword">true</span>, <span class="ruby-string">&quot;big&quot;</span>]
</pre>

<p>Notice that Executable requires an equal-sign (<code>=</code>) be used when
specifying values for non-boolean attributes.</p>

<p>To make the command available on the command line, add an executable to
your project passing ARGV to the #execute! method.</p>

<pre class="ruby"><span class="ruby-comment">#!usr/bin/env ruby</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'example'</span>
<span class="ruby-identifier">example</span> = <span class="ruby-constant">Example</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">example</span>.<span class="ruby-identifier">execute!</span>(<span class="ruby-constant">ARGV</span>)
</pre>

<p>For a more detail example see DEMO.rdoc.</p>

<h2 id="label-INSTALL">INSTALL</h2>

<p>Install with RubyGems in the usual fashion.</p>

<pre>$ gem install executable</pre>

<h2 id="label-LEGAL">LEGAL</h2>

<p>Copyright © 2008 Rubyworks</p>

<p>Distributable in accordance with the <strong>BSD-2-Clause</strong> license.</p>

<p>See COPYING.rdoc for licensing details.</p>
